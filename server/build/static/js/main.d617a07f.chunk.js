(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{214:function(e,t,n){},215:function(e,t,n){},379:function(e,t,n){"use strict";n.r(t);var a=n(7),c=n(0),r=n.n(c),s=n(30),o=n.n(s),i=(n(214),n(36)),l=n(92),d=(n(215),n(381)),j=n(79),u=n(388),h=n(389),b=function(e){var t=e.color,n=void 0===t?"white":t;return Object(a.jsx)("h2",{className:"logo",style:{color:n,display:"inline"},children:"HotZ\ud83c\udfafne"})},x=d.a.Content,p=d.a.Footer,O=d.a.Header,m=function(e){var t=e.children;return Object(a.jsxs)(d.a,{style:{height:"100%"},children:[Object(a.jsx)(O,{children:Object(a.jsxs)(j.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:[Object(a.jsx)(j.a.Item,{children:Object(a.jsx)(b,{})},"0"),Object(a.jsx)(j.a.Item,{icon:Object(a.jsx)(u.a,{}),children:Object(a.jsx)(l.b,{to:"/",children:"Locations"})},"1"),Object(a.jsx)(j.a.Item,{icon:Object(a.jsx)(h.a,{}),children:Object(a.jsx)(l.b,{to:"/cases",children:"Cases"})},"2"),Object(a.jsx)(j.a.Item,{icon:Object(a.jsx)(h.a,{}),children:Object(a.jsx)(l.b,{to:"/patients",children:"Patients"})},"3")]})}),Object(a.jsxs)(d.a,{children:[Object(a.jsx)(x,{style:{margin:"24px 16px 0"},children:Object(a.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:t})}),Object(a.jsx)(p,{style:{textAlign:"center"},children:"Made with \u2665\ufe0f"})]})]})},g=n(6),f=n(387),y=n(176),k=n(382),v=n(56),I=n.n(v),S=([{title:"ID",dataIndex:"id",key:"id"}].concat([{title:"Name",dataIndex:"name",key:"name"},{title:"X Co-ordinate",dataIndex:"x_coord",key:"x_coord"},{title:"Y Co-ordinate",dataIndex:"y_coord",key:"y_coord"},{title:"Address",dataIndex:"address",key:"address"}]),n(33)),w=n.n(S),z=n(42),C=n(385),F=n(386),L=n(383),A=n(206),T=n(130),P=n(66),_=C.a.Title,N=F.a.Search,q=L.a.Meta,E=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(null),o=Object(g.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(!1),j=Object(g.a)(d,2),u=j[0],h=j[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(_,{level:2,children:"Add location to HotZone"}),Object(a.jsx)(N,{placeholder:"Enter Location Name",allowClear:!0,loading:!1,enterButton:"Search Location",size:"large",style:{marginBottom:40},onSearch:function(){var e=Object(z.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("https://group-q-hotzone.herokuapp.com/hotzone/locations/".concat(t),{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){r(null===e||void 0===e?void 0:e.data)})).catch((function(e){A.a.error({message:"Error Finding Location",description:e.response.data})}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(a.jsx)(T.a.Group,{onChange:function(e){return l(e.target.value)},value:i,style:{width:"100%"},children:n.map((function(e,t){var n=e.name,c=e.address,r=e.x_coord,s=e.y_coord;return Object(a.jsx)(L.a,{children:Object(a.jsx)(q,{avatar:Object(a.jsxs)(T.a,{value:t,children:[n,c&&", ".concat(c)," - ",r,", ",s]})})},t)}))}),null!==i&&Object(a.jsx)(P.a,{type:"primary",style:{width:"100%"},loading:u,onClick:Object(z.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,I.a.post("https://group-q-hotzone.herokuapp.com/hotzone/locations/",n[i],{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}}).then((function(e){A.a.success({message:"Location Created",description:JSON.stringify(e.data)}),r([]),l(null)})).catch((function(e){A.a.error({message:"Error Creating Location",description:e.response.data})}));case 3:h(!1);case 4:case"end":return e.stop()}}),e)}))),children:"Create Location"})]})},B=C.a.Title,D=[{title:"HKID",dataIndex:"hkid",key:"hkid"},{title:"Name",dataIndex:"name",key:"name"},{title:"Date of Birth",dataIndex:"dob",key:"dob"}],H=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!0),o=Object(g.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(""),j=Object(g.a)(d,2),u=j[0],h=j[1];return Object(c.useEffect)((function(){(function(){var e=Object(z.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,I.a.get("https://group-q-hotzone.herokuapp.com/hotzone/patients.json",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}});case 4:t=e.sent,n=t.data,r(n),l(!1),h(""),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),r([]),h("failed to fetch patients data"),l(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),u&&""!==u?Object(a.jsx)("p",{children:u}):i?Object(a.jsx)(f.b,{size:"middle",children:Object(a.jsx)(y.a,{size:"large"})}):n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(B,{level:2,children:"All patients"}),Object(a.jsx)(k.a,{dataSource:n,columns:D})]})},J=C.a.Title,M=[{title:"Pathogen",dataIndex:["virus","name"],key:"pathogen"},{title:"Case number",dataIndex:"case_no",key:"case_no"},{title:"Confirmed on",dataIndex:"confirmed",key:"confirmed"},{title:"Origin",dataIndex:"origin",key:"origin"},{title:"Patient Name",dataIndex:["patient","name"],key:"patient_name"}],K=function(){var e=Object(c.useState)([]),t=Object(g.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(!0),o=Object(g.a)(s,2),i=o[0],l=o[1],d=Object(c.useState)(""),j=Object(g.a)(d,2),u=j[0],h=j[1];return Object(c.useEffect)((function(){(function(){var e=Object(z.a)(w.a.mark((function e(){var t,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,I.a.get("https://group-q-hotzone.herokuapp.com/hotzone/cases.json",{headers:{Authorization:"Token ".concat(localStorage.getItem("token"))}});case 4:t=e.sent,n=t.data,r(n),l(!1),h(""),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),r([]),h("failed to fetch cases data"),l(!1);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}})()()}),[]),u&&""!==u?Object(a.jsx)("p",{children:u}):i?Object(a.jsx)(f.b,{size:"middle",children:Object(a.jsx)(y.a,{size:"large"})}):n&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(J,{level:2,children:"All cases"}),Object(a.jsx)(k.a,{dataSource:n,columns:M})]})},Z=n(205),G=n(384),R=function(){var e=Object(c.useState)(!1),t=Object(g.a)(e,2),n=t[0],r=t[1],s=function(){var e=Object(z.a)(w.a.mark((function e(t){var n,a,c,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.username,a=t.password,r(!0),e.prev=2,e.next=5,I.a.post("https://group-q-hotzone.herokuapp.com/hotzone/login/",{username:n,password:a});case 5:c=e.sent,(s=c.data.token)&&(localStorage.setItem("token",s),localStorage.setItem("userLoggedIn",n)),Z.b.success("logged in successfully"),document.location.href="/",e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),Z.b.error("failed to login");case 15:r(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(b,{color:"black"}),Object(a.jsxs)(G.a,{style:{marginRight:"auto",marginLeft:"auto",width:"50%"},name:"basic",onFinish:s,children:[Object(a.jsx)(G.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(a.jsx)(F.a,{})}),Object(a.jsx)(G.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}],children:Object(a.jsx)(F.a.Password,{})}),Object(a.jsx)(G.a.Item,{children:Object(a.jsx)(P.a,{type:"primary",htmlType:"submit",loading:n,children:"Submit"})})]})]})},U=function(){return localStorage.getItem("token")?Object(a.jsx)(m,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{exact:!0,path:"/",children:Object(a.jsx)(E,{})}),Object(a.jsx)(i.b,{exact:!0,path:"/cases",children:Object(a.jsx)(K,{})}),Object(a.jsx)(i.b,{exact:!0,path:"/patients",children:Object(a.jsx)(H,{})})]})}):Object(a.jsx)(i.a,{to:"/login"})},X=function(){return Object(a.jsx)("div",{style:{height:"100%",display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(a.jsx)(R,{})})},Y=function(){return Object(a.jsx)("div",{className:"App",style:{height:"100vh"},children:Object(a.jsx)(l.a,{children:Object(a.jsxs)(i.d,{children:[Object(a.jsx)(i.b,{path:"/login",children:Object(a.jsx)(X,{})}),Object(a.jsx)(i.b,{path:"/",children:Object(a.jsx)(U,{})})]})})})},Q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,390)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))};o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Y,{})}),document.getElementById("root")),Q()}},[[379,1,2]]]);
//# sourceMappingURL=main.d617a07f.chunk.js.map